# Murata BJJ - ゴールデンタスク（AIエージェントテスト用）

## 概要
AIエージェントの能力をテストするための20のタスクセット。各タスクは異なる側面の機能をテストします。

## タスク一覧

### 1. 基本的なコード検索
**タスク**: `useAuth`フックがどのファイルで定義されているか教えてください。
**期待される結果**: `/src/hooks/useAuth.tsx`にあることを特定

### 2. 関数の使用箇所検索
**タスク**: `signIn`関数がどこで呼び出されているか、すべての箇所を見つけてください。
**期待される結果**: AuthDialog.tsxなど複数のファイルで使用されていることを報告

### 3. エラーハンドリングの確認
**タスク**: 認証エラーがどのように処理されているか説明してください。
**期待される結果**: AuthDialog.tsxでのtry-catchブロックとトーストメッセージの説明

### 4. データベーススキーマの理解
**タスク**: `profiles`テーブルにはどのようなフィールドがありますか？
**期待される結果**: useAuth.tsxのProfile interfaceから、またはSupabaseのスキーマから情報を取得

### 5. 国際化対応の確認
**タスク**: アプリケーションは何言語に対応していますか？各言語の翻訳ファイルはどこにありますか？
**期待される結果**: 日本語(ja)、英語(en)、ポルトガル語(pt)の3言語対応。各コンポーネント内にtranslationsオブジェクトがある

### 6. APIエンドポイントの列挙
**タスク**: `/api`ディレクトリ内のすべてのAPIエンドポイントを列挙してください。
**期待される結果**: transcribe、admin、ai、stripe、sparring-logsなどのエンドポイントを網羅的にリスト

### 7. 環境変数の確認
**タスク**: このプロジェクトで必要な環境変数をすべて教えてください。
**期待される結果**: NEXT_PUBLIC_SUPABASE_URL、SUPABASE_SERVICE_ROLE_KEY、OPENAI_API_KEYなどをリスト

### 8. コンポーネントの依存関係
**タスク**: `DashboardNav`コンポーネントが依存しているフック、コンテキスト、外部ライブラリをすべて教えてください。
**期待される結果**: useAuth、useLanguage、usePathname、lucide-reactアイコンなどの依存関係を特定

### 9. PWA機能の実装状況
**タスク**: PWA（Progressive Web App）として実装されている機能をすべて教えてください。
**期待される結果**: manifest.json、service worker、オフラインページ、インストールプロンプトなどを説明

### 10. 認証フローの説明
**タスク**: ユーザーがログインしてからダッシュボードに到達するまでの完全なフローを説明してください。
**期待される結果**: AuthDialog → signIn → Supabase認証 → セッション確立 → リダイレクトの流れを詳細に説明

### 11. モバイル最適化の確認
**タスク**: モバイルデバイス向けに実装されている最適化をすべて見つけてください。
**期待される結果**: タップターゲット48px、フォントサイズ16px、ハンバーガーメニュー、レスポンシブデザインなど

### 12. 動画アップロード機能の分析
**タスク**: 動画アップロード機能がどのように実装されているか、ファイルサイズ制限も含めて説明してください。
**期待される結果**: /dashboard/videos/uploadページ、Supabase Storage使用、サイズ制限の問題なども言及

### 13. エラーページの実装
**タスク**: アプリケーションにはどのようなエラーページが実装されていますか？
**期待される結果**: 404 (not-found.tsx)、500 (error.tsx)、グローバルエラー (global-error.tsx)の3つ

### 14. テスト戦略の確認
**タスク**: このプロジェクトのテスト設定と、実際に書かれているテストを教えてください。
**期待される結果**: Jest設定、Testing Library、AuthDialogのテストなどを特定

### 15. ビルド最適化の確認
**タスク**: Next.jsのビルド最適化やパフォーマンス改善のための設定を見つけてください。
**期待される結果**: 画像最適化、コード分割、動的インポート、PWA対応などを報告

### 16. セキュリティ実装の確認
**タスク**: アプリケーションに実装されているセキュリティ対策をすべて見つけてください。
**期待される結果**: 認証、RLS（Row Level Security）、環境変数、CORS設定などを説明

### 17. リアルタイム機能の有無
**タスク**: Supabaseのリアルタイム機能を使用している箇所があるか確認してください。
**期待される結果**: 現在は使用していないことを確認（将来的な実装の可能性も言及）

### 18. 支払い機能の実装
**タスク**: Stripeを使った支払い機能がどのように実装されているか説明してください。
**期待される結果**: /api/stripe/エンドポイント、チェックアウトセッション、サブスクリプション管理などを説明

### 19. デプロイメント設定
**タスク**: このプロジェクトのデプロイメント設定（CI/CD）について説明してください。
**期待される結果**: GitHub Actions、Vercel自動デプロイ、mainブランチへのプッシュでの自動デプロイなど

### 20. アクセシビリティ対応
**タスク**: アプリケーションのアクセシビリティ（a11y）対応状況を評価してください。
**期待される結果**: aria-label、セマンティックHTML、キーボードナビゲーション、色のコントラストなどを確認

## 評価基準

各タスクは以下の観点で評価します：
1. **正確性**: 情報が正確か
2. **完全性**: 必要な情報をすべて見つけられたか
3. **効率性**: 適切なツールを使用して効率的に情報を取得したか
4. **理解度**: コードの意図や設計を理解しているか

## 期待されるツール使用

- **Grep/Glob**: ファイルやパターンの検索
- **Read**: ファイルの内容確認
- **Task**: 複雑な検索や分析タスク
- **LS**: ディレクトリ構造の確認

## 追加の高度なタスク（ボーナス）

### 21. パフォーマンスボトルネックの特定
**タスク**: 現在のコードでパフォーマンスのボトルネックになりそうな箇所を3つ見つけてください。

### 22. 未使用コードの検出
**タスク**: インポートされているが使用されていないコンポーネントや関数を見つけてください。

### 23. 型安全性の評価
**タスク**: TypeScriptの`any`型が使用されている箇所をすべて見つけ、改善案を提案してください。

### 24. 循環依存の確認
**タスク**: モジュール間で循環依存が発生していないか確認してください。

### 25. メモリリークの可能性
**タスク**: useEffectのクリーンアップ漏れなど、メモリリークの可能性がある箇所を特定してください。