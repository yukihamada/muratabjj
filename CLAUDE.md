# Murata BJJ - プロジェクト概要

## プロジェクト概要
Murata BJJは、ブラジリアン柔術（BJJ）を「連携（Flow）」中心で学ぶためのWebプラットフォームです。動画、フロー可視化、習得度トラッキング、スパーログの4つの主要機能を通じて、「理解→再現→実戦」のサイクルを効率化します。

監修：村田 良蔵（Ryozo Murata）
- SJJIF世界選手権マスター2黒帯フェザー級 2018・2019 連覇
- スポーツ柔術日本連盟（SJJJF）会長
- YAWARA/Over Limit SWEEP

## 主要機能

### 1. 動画カタログ
- 帯別、ポジション別、技種別でカテゴライズ
- チャプター機能による詳細な区切り
- キーポイントのマーキング
- 再生速度調整（0.5x〜2.0x）
- **自動文字起こし機能**：動画アップロード時にWhisper APIで音声を自動文字起こし
- トランスクリプトの検索・タイムスタンプ連動
- **一括アップロード機能**：複数動画の同時アップロード・処理

### 2. フローエディタ
- ノード（技/体勢）とエッジ（遷移）による連携の可視化
- 分岐・代替ルートの表現
- ドラッグ&ドロップによる直感的な編集
- フローの保存・共有機能

### 3. 習得度トラッカー
- 5段階評価システム：
  1. 理解（動画視聴・概念把握）
  2. 手順（ステップ記憶）
  3. 再現（単独実行）
  4. 連携（フロー内実行）
  5. 実戦（スパーリング適用）
- 弱点分析と次の練習提案

### 4. スパーログ
- 開始体勢の記録
- イベント記録（パスガード、スイープ、サブミッション等）
- 時系列での可視化
- 統計分析（成功率、頻度等）

### 5. アダプティブ復習
- 忘却曲線アルゴリズムによる最適な復習間隔
- ボトルネック遷移の重点化
- 個人の習熟度に応じた出題

### 6. コーチ・道場向け機能
- カリキュラムの作成・配信
- 帯別の課題設定
- 生徒の進捗レポート
- 非公開スペースでの限定コンテンツ

## 技術スタック（予定）

### フロントエンド
- Next.js 14（App Router）
- TypeScript
- Tailwind CSS
- フロー可視化：React Flow または vis.js
- 状態管理：Zustand または Redux Toolkit
- 動画プレーヤー：Video.js または Plyr

### バックエンド
- Node.js + Express または Next.js API Routes
- データベース：PostgreSQL（Supabase推奨）
- 認証：NextAuth.js または Supabase Auth
- ファイルストレージ：Cloudflare R2 または AWS S3
- 音声文字起こし：OpenAI Whisper API
- 動画処理：FFmpeg（サムネイル生成、メタデータ抽出）

### その他
- 多言語対応：next-i18next
- 決済：Stripe
- メール送信：SendGrid または Resend
- ホスティング：Vercel

## 料金プラン

1. **個人プラン（無料）**
   - 基本動画アクセス
   - ドリル・スパーログ
   - 基本的な習得度トラッキング

2. **Proプラン（¥1,200/月）**
   - フローエディタ全機能
   - アダプティブ復習
   - 詳細レポート・分析

3. **道場プラン（¥6,000/月〜）**
   - カリキュラム配信機能
   - 非公開スペース
   - コーチ評価機能
   - 複数ユーザー管理

## 開発フェーズ

### Phase 1: 基盤構築（1-2週間）
- プロジェクトセットアップ
- 認証システム
- 基本的なUI/UXフレームワーク
- データベース設計

### Phase 2: コア機能（3-4週間）
- 動画カタログシステム
- 基本的なフローエディタ
- ユーザープロファイル
- 基本的な習得度トラッキング

### Phase 3: 高度な機能（3-4週間）
- 完全なフローエディタ機能
- スパーログシステム
- アダプティブ復習アルゴリズム
- レポート・分析機能

### Phase 4: プレミアム機能（2-3週間）
- コーチ・道場向け機能
- 決済システム統合
- 多言語対応の完全実装

### Phase 5: 最適化とローンチ（1-2週間）
- パフォーマンス最適化
- セキュリティ監査
- ベータテスト
- 本番環境デプロイ

## 特記事項
- モバイルファーストで設計
- アクセシビリティ（WCAG 2.1 AA準拠）を重視
- プログレッシブWebアプリ（PWA）として実装予定
- オフライン対応（一部機能）

## コマンド
開発時に使用する主なコマンド：
- `npm run dev` - 開発サーバー起動
- `npm run build` - プロダクションビルド
- `npm run test` - テスト実行
- `npm run lint` - リンターチェック
- `npm run typecheck` - TypeScript型チェック